import{r as c,u,j as e,H as N,L as o}from"./app-BqfSY66W.js";import{D as w}from"./DangerButton-CKNxhdaJ.js";import{M as y}from"./Modal-BMFZfgK9.js";import{S as g}from"./SecondaryButton-2K9VrBLb.js";import{A as b}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as v,t as S}from"./index-BiFnSlCp.js";import{S as k}from"./square-pen-BaXj2PVX.js";import{T as C}from"./trash-CNp69a9K.js";import"./transition-CYzJCn0g.js";import"./index-CjicLJss.js";import"./createLucideIcon-Hng2jIgv.js";function q({users:a}){const[i,r]=c.useState(0),[n,l]=c.useState(!1),{delete:x,processing:d,reset:m,errors:p}=u(),h=t=>{r(t),l(!0)},j=t=>{t.preventDefault(),x(route("users.destroy",i),{preserveScroll:!0,onSuccess:()=>{s(),S.success("عملیات موفقانه انجام شد.",{description:"اطلاعات کاربر با موفقیت به‌روزرسانی شد.",position:"bottom-left",duration:4e3,style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})},onError:()=>console.log(p),onFinish:()=>m()})},s=()=>{r(0),l(!1)};return e.jsxs(b,{title:"لیست مخاطبین",children:[e.jsx(N,{title:"لیست مخاطبین"}),e.jsx(v,{richColors:!0}),e.jsx("div",{className:"flex flex-wrap pt-8",children:e.jsx("div",{className:"mb-12 w-full px-4",children:e.jsxs("div",{className:"relative flex w-full min-w-0 flex-col overflow-auto break-words rounded pb-8 shadow-lg",children:[e.jsxs("div",{className:"mb-0 flex items-baseline justify-between rounded-t border-0 px-4 py-3",children:[e.jsx("h3",{className:"text-blueGray-700 text-lg font-semibold",children:"لیست کاربران سیستم"}),e.jsx(o,{href:route("users.create"),className:"rounded bg-cyan-700 px-4 py-2 text-xs font-bold text-white hover:shadow-md",children:"ثبت کاربر جدید"})]}),e.jsx("div",{className:"relative w-full overflow-x-auto overflow-y-visible rounded-b",children:e.jsxs("table",{className:"min-w-full border-collapse bg-transparent text-right",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-cyan-700 text-white",children:[e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"#"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"نام و نام خانوادگی"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"شماره تماس"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"ایمیل آدرس"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"نقش"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"پروفایل"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"شناسه یکتا"}),e.jsx("th",{className:"px-6 py-3 text-right text-sm",children:"عملیات"})]})}),e.jsx("tbody",{children:a.data.length?a.data.map((t,f)=>e.jsxs("tr",{className:"odd:bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:++f}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:t.name}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:t.account?t.account.phone:""}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:t.email||"-"}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:t.role||"-"}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:t.account?t.account.profile_photo?e.jsx("img",{src:"http://127.0.0.1:5000/"+t.account.profile_photo,alt:t.full_name,className:"h-8 w-8 rounded-full border object-cover"}):e.jsx("span",{className:"text-gray-400",children:"بدون عکس"}):""}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-sm",children:t.account?t.account.api_id:""}),e.jsx("td",{className:"whitespace-nowrap px-6 py-2 text-center text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{href:route("users.edit",t.id),className:"text-sky-700",title:"ویرایش",children:e.jsx(k,{className:"h-5 w-5 cursor-pointer"})}),e.jsx(C,{onClick:()=>h(t.id),className:"h-5 w-5 cursor-pointer text-rose-800"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-4 text-center text-sm",children:"هیچ پرسنلی یافت نشد."})})})]})})]})})}),e.jsx(y,{show:n,onClose:s,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"آیا مطمئن هستید که می‌خواهید این پرسنل را حذف کنید؟"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"بعد از حذف پرسنل، اطلاعات مرتبط با آن دیگر در دسترس نخواهد بود."}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(g,{onClick:s,children:"انصراف"}),e.jsx(w,{className:"ms-3",disabled:d,children:"حذف"})]})]})})]})}export{q as default};
