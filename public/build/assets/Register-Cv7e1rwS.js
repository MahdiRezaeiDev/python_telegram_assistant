import{a as b,r as a,j as e,H as j,b as y,d as v}from"./app-BqfSY66W.js";import{I as l}from"./InputLabel-BsxdosU6.js";import{P as w}from"./PrimaryButton-DglqdRJN.js";import{T as n}from"./TextInput-BkYfRdmO.js";import{A as I}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as P,t as r}from"./index-BiFnSlCp.js";import"./transition-CYzJCn0g.js";import"./createLucideIcon-Hng2jIgv.js";import"./index-CjicLJss.js";function L(){const i=b().props.auth.user?.account,[o,h]=a.useState(i?.phone??""),[c,p]=a.useState(i?.api_id??""),[d,x]=a.useState(i?.api_hash??""),[u,m]=a.useState(!1),f=t=>/^\+(98|93)[0-9]{8,12}$/.test(t),g=async t=>{if(t.preventDefault(),!f(o)){r.error("شماره وارد شده معتبر نیست!",{description:" لطفاً با +98 یا +93 وارد کنید و فاصله میان اعداد را حذف نمایید.",position:"bottom-left",duration:3e3,style:{backgroundColor:"red",fontFamily:"Vazir",color:"white",fontWeight:"bold"}});return}m(!0);try{const s=await y.post(route("registerAccount"),{phone:o,apiId:c,apiHash:d});s.data.message?(r.success("عملیات موفقانه انجام شد.",{description:"درخواست ورود به حساب تلگرام شما موفقانه ثبت شد و کد تایید ارسال گردید.",position:"bottom-left",duration:3e3,style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}}),localStorage.setItem("telegram_phone",o),v.visit(route("verifyPage"))):r.error("خطا در اجرای عملیات",{description:s.data.error||"مشکل در ثبت درخواست",position:"bottom-left",duration:3e3,style:{backgroundColor:"red",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})}catch{r.error("خطا در اتصال به سرور",{description:"لطفاً اتصال اینترنت خود را بررسی کرده و دوباره تلاش کنید.",position:"bottom-left",duration:3e3,style:{backgroundColor:"red",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})}m(!1)};return e.jsxs(I,{title:"ورود به حساب تلگرام",children:[e.jsx(j,{title:"ورود به حساب تلگرام"}),e.jsx(P,{richColors:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-8 shadow-xl ring-1 ring-gray-200",children:[e.jsx("h1",{className:"mb-3 text-center text-2xl font-bold text-gray-800",children:"ورود به تلگرام"}),e.jsx("p",{className:"mb-6 text-center text-xs text-gray-500",children:"لطفاً اطلاعات حساب تلگرام خود را وارد کنید"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{value:"شماره تلفن"}),e.jsx(n,{placeholder:"+987XXXXXXXX",value:o,onChange:t=>h(t.target.value),className:"w-full text-sm"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"API ID"}),e.jsx(n,{placeholder:"API ID خود را وارد کنید",value:c,onChange:t=>p(t.target.value),className:"w-full text-sm"})]}),e.jsxs("div",{children:[e.jsx(l,{value:"API Hash"}),e.jsx(n,{placeholder:"API Hash خود را وارد کنید",value:d,onChange:t=>x(t.target.value),className:"w-full text-sm"})]}),e.jsx(w,{className:"flex w-full justify-center",disabled:u,children:u?"در حال ثبت...":"ثبت حساب"})]})]})})]})}export{L as default};
