import{r as n,j as e,H as x,L as p,b as h}from"./app-BqfSY66W.js";import{P as f}from"./PrimaryButton-DglqdRJN.js";import{A as u}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as g,t as r}from"./index-BiFnSlCp.js";import{U as c}from"./upload-CweUKlfR.js";import{c as y}from"./createLucideIcon-Hng2jIgv.js";import{L as b}from"./loader-circle-DQ-HXIqi.js";import"./transition-CYzJCn0g.js";import"./index-CjicLJss.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],N=y("file-spreadsheet",j);function _(){const[t,a]=n.useState(null),[o,i]=n.useState(!1),d=async s=>{if(s.preventDefault(),!t){r.error("لطفاً یک فایل اکسل انتخاب کنید.");return}i(!0);const l=new FormData;l.append("file",t);try{await h.post(route("products.store"),l,{headers:{"Content-Type":"multipart/form-data"}}),r.success("فایل با موفقیت بارگذاری شد!",{description:"تمام داده‌ها به درستی در دیتابیس ذخیره شدند.",position:"bottom-left",duration:4e3,style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}}),a(null)}catch(m){r.error("خطا در بارگذاری فایل",{description:m.response?.data?.message||"مشکلی در سرور رخ داده است.",position:"bottom-left",duration:4e3,style:{backgroundColor:"red",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})}i(!1)};return e.jsxs(u,{title:"بارگذاری فایل اکسل",children:[e.jsx(x,{title:"بارگذاری فایل اکسل"}),e.jsx(g,{richColors:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white p-8 shadow-lg ring-1 ring-gray-200",children:[e.jsx("h1",{className:"mb-3 text-center text-2xl font-bold text-gray-800",children:"بارگذاری فایل اکسل"}),e.jsx("p",{className:"mb-6 text-center text-sm text-gray-500",children:"لطفاً فایل اکسل حاوی محصولات و کدهای مشابه را انتخاب کنید"}),e.jsxs("form",{onSubmit:d,className:"space-y-5",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition hover:border-indigo-500 hover:bg-indigo-50",children:[e.jsx("input",{id:"file",type:"file",accept:".xlsx,.xls,.csv",onChange:s=>a(s.target.files[0]),className:"absolute inset-0 cursor-pointer opacity-0"}),e.jsx(c,{className:"mb-2 h-10 w-10 text-indigo-500"}),e.jsx("p",{className:"text-gray-600",children:t?e.jsxs("span",{className:"flex items-center justify-center gap-2 font-medium text-indigo-600",children:[e.jsx(N,{className:"h-5 w-5"}),t.name]}):"برای انتخاب فایل کلیک کنید یا آن را اینجا بکشید"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"فرمت‌های مجاز: .xlsx, .xls, .csv"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f,{disabled:o,className:"flex w-full items-center justify-center gap-2 disabled:cursor-not-allowed disabled:opacity-70",children:o?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"h-5 w-5 animate-spin"}),"در حال بارگذاری..."]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-5 w-5"}),"بارگذاری فایل"]})}),e.jsx(p,{href:route("products.index"),className:"flex w-full items-center justify-center rounded-lg border border-gray-300 px-4 py-3 font-semibold text-gray-700 transition hover:bg-gray-100",children:"برگشت"})]})]})]})})]})}export{_ as default};
