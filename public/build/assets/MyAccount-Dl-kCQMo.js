import{r as a,a as h,j as e,H as g,b as c,d as p}from"./app-BqfSY66W.js";import{D as j}from"./DangerButton-CKNxhdaJ.js";import{A as y}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as b,t as N}from"./index-BiFnSlCp.js";import"./transition-CYzJCn0g.js";import"./createLucideIcon-Hng2jIgv.js";import"./index-CjicLJss.js";function M(){const[t,n]=a.useState(null),[d,m]=a.useState(!0),[x,s]=a.useState(!1),l=localStorage.getItem("telegram_phone"),o=h().props.auth.user?.account;a.useEffect(()=>{(async()=>{try{const r=await c.post(route("getAccountInfo"),{phone:l});r.data?.error?s(!1):(n(r.data),s(!0))}catch{s(!1)}finally{m(!1)}})()},[]);const u=()=>{localStorage.setItem("telegram_phone",l),p.visit(route("loginPage"))},f=()=>{localStorage.removeItem("telegram_phone"),N.info("Ø­Ø³Ø§Ø¨ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯.",{description:"Ø§ØªØµØ§Ù„ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø´Ù…Ø§ Ø¨Ø§ Ø­Ø³Ø§Ø¨ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„ Ù‚Ø·Ø¹ Ú¯Ø±Ø¯ÛŒØ¯ Ùˆ Ø¯Ø± Ù‡Ø±Ú¯ÙˆÙ†Ù‡ ÙØ¹Ø§Ù„ÛŒØª Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ø³Ù‡ÛŒÙ… Ù†ÛŒØ³Øª.",position:"bottom-left",duration:4e3,style:{backgroundColor:"red",fontFamily:"Vazir",color:"white",fontWeight:"bold"}}),n(null),s(!1),c.post(route("disconnect"),{onerror:i=>{console.log(i)}})};return e.jsxs(y,{title:"Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…",children:[e.jsx(g,{title:"Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(b,{richColors:!0}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4",children:e.jsx("div",{className:"w-full max-w-md rounded-xl bg-white p-6 shadow-md ring-1 ring-gray-200",children:d?e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-8",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-t-transparent"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨..."})]}):x?e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-3 text-2xl font-bold text-gray-800",children:"Ø­Ø³Ø§Ø¨ ØªÙ„Ú¯Ø±Ø§Ù… Ø´Ù…Ø§"}),e.jsx("div",{className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-indigo-100 text-3xl font-bold text-indigo-600",children:o.profile_photo?e.jsx("img",{src:"http://127.0.0.1:5000/"+o.profile_photo,alt:o.full_name,className:"h-20 w-20 rounded-full border object-cover"}):e.jsx("span",{className:"text-gray-400",children:"Ø¨Ø¯ÙˆÙ† Ø¹Ú©Ø³"})}),e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:[t.first_name," ",t.last_name||""]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["@",t.username||"Ø¨Ø¯ÙˆÙ† Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.phone}),e.jsx(j,{onClick:f,className:"mt-6 flex w-full justify-center rounded-lg bg-red-500 py-2 text-sm font-medium text-white transition hover:bg-red-600",children:"Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„ Ø­Ø³Ø§Ø¨"})]}):e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"ğŸš« Ø­Ø³Ø§Ø¨ Ø´Ù…Ø§ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª"}),e.jsx("p",{className:"text-sm leading-relaxed text-gray-600",children:"Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯ Ø­Ø³Ø§Ø¨ ØªÙ„Ú¯Ø±Ø§Ù… Ø´Ù…Ø§ Ù‚Ø·Ø¹ Ø´Ø¯Ù‡ ÛŒØ§ Ù‡Ù†ÙˆØ² Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯."}),e.jsx("div",{className:"mt-4 flex justify-center gap-3",children:e.jsx("button",{onClick:u,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-indigo-700",children:"ğŸ”„ Ø«Ø¨Øª Ù…Ø¬Ø¯Ø¯ Ø­Ø³Ø§Ø¨"})})]})})})]})}export{M as default};
