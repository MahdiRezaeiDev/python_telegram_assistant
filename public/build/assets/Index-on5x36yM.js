import{j as e,r as c,u as l,H as m}from"./app-BqfSY66W.js";import{f as u,C as x,a as f,b as p,d as h,e as b,g}from"./Card-pAIeo2L9.js";import{A as j}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as v,t as a}from"./index-BiFnSlCp.js";import{S as y}from"./save-BnrkiLM3.js";import{c as N}from"./createLucideIcon-Hng2jIgv.js";import{T as w}from"./trash-2-By46AzIZ.js";import"./transition-CYzJCn0g.js";import"./index-CjicLJss.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],k=N("undo-2",C);function n({children:s,className:t="",...r}){return e.jsx("button",{...r,className:`flex rounded-lg bg-cyan-600 px-4 py-2 font-semibold text-white transition hover:bg-cyan-700 ${t}`,children:s})}const i=c.forwardRef(({className:s,...t},r)=>e.jsx("textarea",{ref:r,className:u("flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t}));i.displayName="Textarea";function _({defaultReply:s}){const t=l({id:s?.id??"",content:s?.message??""});function r(o){o.preventDefault(),t.post(route("messages.store"),{preserveState:!0,onSuccess:()=>{a.success("اطلاعات موفقانه ذخیره شد!",{description:"پیام پیش‌فرض شما موفقانه ذخیره گردید.",position:"bottom-left",duration:3e3,style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})},onError:()=>{a.error("خطا در ذخیره پیام پیش‌فرض",{position:"bottom-left",duration:3e3})}})}function d(){if(!t.data.id){a.error("هیچ پیام فعالی برای حذف وجود ندارد.");return}confirm("آیا از حذف پیام پیش‌فرض مطمئن هستید؟")&&t.delete(route("messages.destroy",t.data.id),{preserveState:!0,onSuccess:o=>{console.log(o),t.setData({id:"",content:""}),a.success("عملیات موفقانه انجام شد!",{description:"پیام پیش فرض شما موفقانه حذف گردید",position:"bottom-left",duration:3e3,style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})},onError:()=>{a.success("عملیات ناموفق  !",{description:"پیام پیش فرش شما حذف نگردید، لطفا بعدا تلاش نمایید.",position:"bottom-left",duration:3e3,style:{backgroundColor:"red",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})}})}return e.jsxs(j,{title:"تنظیم پیام پیش‌فرض",children:[e.jsx(m,{title:"پیام پیش‌فرض"}),e.jsx(v,{richColors:!0}),e.jsx("main",{className:"p-6",children:e.jsx("div",{className:"mx-auto max-w-3xl",children:e.jsxs(x,{children:[e.jsx(f,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(p,{className:"mb-2",children:"پیام پیش‌فرض پاسخ"}),e.jsx(h,{className:"text-xs",children:"یک پیام پیش‌فرض برای پاسخ‌دهی خودکار یا پیشنهاد به اپراتورها تنظیم کنید. تنها یک پیام قابل تنظیم است."})]})})}),e.jsxs("form",{onSubmit:r,children:[e.jsxs(b,{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-muted-foreground",children:"متن پیام"}),e.jsx(i,{value:t.data.content,onChange:o=>t.setData("content",o.target.value),placeholder:"اینجا متن پیش‌فرض را وارد کنید...",rows:6}),t.errors.content&&e.jsx("p",{className:"mt-2 text-sm text-destructive",children:t.errors.content}),t.data.content?e.jsxs("div",{className:"mt-4 rounded-md border bg-muted p-3 text-sm text-muted-foreground",children:[e.jsx("strong",{children:"پیش‌نمایش پیام فعلی:"}),e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:t.data.content})]}):e.jsx("div",{className:"mt-4 rounded-md border border-dashed p-3 text-sm text-muted-foreground",children:"هنوز هیچ پیام پیش‌فرضی تنظیم نشده است."})]}),e.jsx(g,{children:e.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{type:"submit",disabled:t.processing,children:[e.jsx(y,{className:"ml-1 h-4 w-4"}),"ذخیره"]}),e.jsxs(n,{variant:"ghost",type:"button",onClick:()=>t.setData({id:s?.id??"",content:s?.message??""}),children:[e.jsx(k,{className:"ml-1 h-4 w-4"}),"بازنشانی"]})]}),e.jsxs(n,{variant:"destructive",type:"button",onClick:d,disabled:!t.data.id||t.processing,children:[e.jsx(w,{className:"ml-2 h-4 w-4"}),"حذف پیام"]})]})})]})]})})})]})}export{_ as default};
