import{a as L,r as o,u as M,j as e,H as T,L as b,d as j,b as H}from"./app-BqfSY66W.js";import{D as N}from"./DangerButton-CKNxhdaJ.js";import{M as $}from"./Modal-BMFZfgK9.js";import{S as A}from"./SecondaryButton-2K9VrBLb.js";import{A as I}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as U,t as i}from"./index-BiFnSlCp.js";import{S as V}from"./search-BuYp6s9R.js";import{c as q}from"./createLucideIcon-Hng2jIgv.js";import{U as z}from"./upload-CweUKlfR.js";import{S as R}from"./square-pen-BaXj2PVX.js";import{T as W}from"./trash-CNp69a9K.js";import"./transition-CYzJCn0g.js";import"./index-CjicLJss.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J=q("download",G);function ie(){const{products:l,filters:v}=L().props,[p,w]=o.useState(v.search||""),[C,u]=o.useState(null),[k,g]=o.useState(!1),[r,n]=o.useState({id:null,field:null,value:""}),{delete:S,processing:D,reset:_}=M(),P=t=>{t.preventDefault(),j.get(route("products.index"),{search:p},{preserveState:!0})},B=t=>{g(!0),u(t)},c=()=>{g(!1),u(null)},E=t=>{t.preventDefault(),S(route("products.destroy",C),{preserveScroll:!0,onSuccess:()=>{c(),i.success("Ù…Ø­ØµÙˆÙ„ Ø­Ø°Ù Ø´Ø¯",{description:"Ú©Ø¯ ÙÙ†ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ú¯Ø±Ø¯ÛŒØ¯.",position:"bottom-left",style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}}),_()},onError:()=>i.error("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„")})},d=async(t,a,s)=>{const y=[...l.data],f=y.findIndex(F=>F.id===t);f!==-1&&(y[f][a]=s),n({id:t,field:"saving",value:s});try{await H.post(route("field.update",t),{field:a,value:s}),i.success("Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…",{description:"ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯.",position:"bottom-left",style:{backgroundColor:"seagreen",color:"white"}})}catch{i.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ",{position:"bottom-left",style:{backgroundColor:"red",color:"white"}})}finally{n({id:null,field:null,value:""})}},x=(t,a,s)=>{n({id:t,field:a,value:s})},m=t=>n(a=>({...a,value:t.target.value})),h=()=>{r.id&&r.field&&d(r.id,r.field,r.value),n({id:null,field:null,value:""})};return e.jsxs(I,{title:"Ù„ÛŒØ³Øª Ú©Ø¯Ù‡Ø§ÛŒ ÙÙ†ÛŒ",children:[e.jsx(T,{title:"Ù„ÛŒØ³Øª Ú©Ø¯Ù‡Ø§ÛŒ ÙÙ†ÛŒ"}),e.jsx(U,{richColors:!0}),e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm ring-1 ring-gray-200",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between gap-4 sm:flex-row",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ğŸ“¦ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("form",{onSubmit:P,className:"flex items-center gap-2 rounded-lg border border-gray-300 bg-gray-50 px-2 py-1 focus-within:ring-2 focus-within:ring-cyan-500",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),e.jsx("input",{type:"text",value:p,onChange:t=>w(t.target.value),placeholder:"Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ø¯ ÛŒØ§ Ø¨Ø±Ù†Ø¯...",className:"border-none bg-transparent px-2 py-1 text-sm outline-none focus:border-none focus:outline-none"}),e.jsx("button",{type:"submit",className:"rounded-md bg-cyan-600 px-3 py-1 text-sm font-semibold text-white hover:bg-cyan-700",children:"Ø¬Ø³ØªØ¬Ùˆ"})]}),e.jsxs(b,{href:route("products.downloadSample"),className:"flex items-center gap-1 rounded-md bg-amber-500 px-3 py-2 text-sm font-medium text-white hover:bg-amber-600",children:[e.jsx(J,{className:"h-4 w-4"}),"Ù†Ù…ÙˆÙ†Ù‡ ÙØ§ÛŒÙ„"]}),e.jsxs(b,{href:route("products.create"),className:"flex items-center gap-1 rounded-md bg-blue-600 px-3 py-2 text-sm font-medium text-white hover:bg-blue-700",children:[e.jsx(z,{className:"h-4 w-4"}),"Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„"]}),e.jsx(N,{className:"rounded-md bg-rose-600 px-3 py-2 text-sm text-white hover:bg-rose-700",children:"Ø­Ø°Ù Ù‡Ù…Ù‡ Ú©Ø¯Ù‡Ø§"})]})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-cyan-700 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-center",children:"#"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Ú©Ø¯ ÙÙ†ÛŒ"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Ù…Ø´Ø§Ø¨Ù‡â€ŒÙ‡Ø§"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Ø¨Ø±Ù†Ø¯"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Ù‚ÛŒÙ…Øª"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx("th",{className:"px-3 py-2 text-center",children:"Ø¨Ø¯ÙˆÙ† Ù‚ÛŒÙ…Øª"}),e.jsx("th",{className:"px-3 py-2 text-center",children:"Ø§Ø¬Ø§Ø²Ù‡ Ø±Ø¨Ø§Øª"}),e.jsx("th",{className:"px-3 py-2 text-center",children:"Ø§Ù‚Ø¯Ø§Ù…Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:l.data.length>0?l.data.map((t,a)=>e.jsxs("tr",{className:`transition hover:bg-gray-50 ${r.id===t.id?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"px-4 py-2 text-center text-gray-600",children:l.from+a}),e.jsx("td",{className:"px-4 py-2 font-mono text-gray-800",children:t.code}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:t.simillars.map(s=>e.jsx("span",{className:"rounded bg-gray-200 px-2 py-0.5 text-xs",children:s.similar_code},s.id))})}),e.jsx("td",{className:"cursor-pointer px-4 py-2",onDoubleClick:()=>x(t.id,"brand",t.brand||""),children:r.id===t.id&&r.field==="brand"?e.jsx("input",{type:"text",value:r.value,onChange:m,onBlur:h,autoFocus:!0,className:"w-full rounded border px-2 py-1 text-sm"}):t.brand||"-"}),e.jsx("td",{className:"cursor-pointer px-4 py-2 text-center",onDoubleClick:()=>x(t.id,"price",t.price||""),children:r.id===t.id&&r.field==="price"?e.jsx("input",{type:"number",value:r.value,onChange:m,onBlur:h,autoFocus:!0,className:"w-full rounded border px-2 py-1 text-center text-sm"}):t.price||"-"}),e.jsx("td",{className:"cursor-pointer px-4 py-2",onDoubleClick:()=>x(t.id,"description",t.description||""),children:r.id===t.id&&r.field==="description"?e.jsx("input",{type:"text",value:r.value,onChange:m,onBlur:h,autoFocus:!0,className:"w-full rounded border px-2 py-1 text-sm"}):t.description||"-"}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("input",{type:"checkbox",checked:!!t.without_price,onChange:s=>d(t.id,"without_price",s.target.checked?1:0)})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("input",{type:"checkbox",checked:!!t.is_bot_allowed,onChange:s=>d(t.id,"is_bot_allowed",s.target.checked?1:0)})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(R,{className:"h-5 w-5 cursor-pointer text-sky-700 hover:text-sky-900",onClick:()=>i.info("Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡...")}),e.jsx(W,{className:"h-5 w-5 cursor-pointer text-rose-600 hover:text-rose-800",onClick:()=>B(t.id)})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"py-6 text-center text-gray-500",children:"Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯ ğŸ™"})})})]}),l.links.length>3&&e.jsx("div",{className:"mt-5 flex flex-wrap justify-center gap-1 text-sm",children:l.links.map((t,a)=>{let s=t.label;return s.includes("Next")?s="Ø¨Ø¹Ø¯ÛŒ":s.includes("Previous")&&(s="Ù‚Ø¨Ù„ÛŒ"),e.jsx("button",{onClick:()=>t.url&&j.get(t.url),className:`rounded-md border px-3 py-1 ${t.active?"bg-cyan-700 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"} ${t.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:s}},a)})})]})}),e.jsx($,{show:k,onClose:c,children:e.jsxs("form",{onSubmit:E,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ù¾Ø³ Ø§Ø² Ø­Ø°ÙØŒ Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯."}),e.jsxs("div",{className:"mt-6 flex justify-start gap-2",children:[e.jsx(N,{disabled:D,children:"Ø­Ø°Ù"}),e.jsx(A,{onClick:c,children:"Ø§Ù†ØµØ±Ø§Ù"})]})]})})]})}export{ie as default};
