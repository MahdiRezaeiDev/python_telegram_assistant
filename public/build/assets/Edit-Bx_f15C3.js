import{r as x,u as j,j as s,H as h}from"./app-BqfSY66W.js";import{I as o}from"./InputError-Cn-JBHW7.js";import{I as l}from"./InputLabel-BsxdosU6.js";import{P as w}from"./PrimaryButton-DglqdRJN.js";import{T as n}from"./TextInput-BkYfRdmO.js";import{A as v}from"./AuthenticatedLayout-BD6RdAD5.js";import{T as y,t as b}from"./index-BiFnSlCp.js";import"./transition-CYzJCn0g.js";import"./createLucideIcon-Hng2jIgv.js";import"./index-CjicLJss.js";function D({user:i}){const m=x.useRef(),u=x.useRef(),{data:a,setData:r,errors:t,put:f,processing:c,reset:d}=j({full_name:i.name||"",email:i.email||"",password:"",password_confirmation:"",role:i.role||"user"}),g=e=>{e.preventDefault(),f(route("users.update",i.id),{preserveScroll:!0,onSuccess:()=>{d("password","password_confirmation"),b.success("عملیات موفقانه انجام شد.",{description:"اطلاعات کاربر با موفقیت به‌روزرسانی شد.",position:"bottom-left",duration:4e3,style:{backgroundColor:"seagreen",fontFamily:"Vazir",color:"white",fontWeight:"bold"}})},onError:p=>{p.password&&(d("password","password_confirmation"),m.current.focus()),p.current_password&&(d("current_password"),u.current.focus())}})};return s.jsxs(v,{title:"ویرایش حساب کاربری",children:[s.jsx(h,{title:"ویرایش حساب کاربری"}),s.jsx(y,{richColors:!0}),s.jsxs("div",{className:"mx-auto mt-16 max-w-3xl rounded-2xl bg-white shadow-lg ring-1 ring-gray-100 transition hover:shadow-2xl",children:[s.jsxs("div",{className:"border-b border-gray-100 px-8 py-5",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"ویرایش حساب کاربری"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"اطلاعات کاربر را ویرایش و سپس ذخیره کنید."})]}),s.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 gap-6 p-8 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(l,{value:"نام و نام خانوادگی"}),s.jsx(n,{value:a.full_name,onChange:e=>r("full_name",e.target.value),className:"mt-1 w-full"}),s.jsx(o,{message:t.full_name})]}),s.jsxs("div",{children:[s.jsx(l,{value:"ایمیل آدرس"}),s.jsx(n,{type:"email",value:a.email,onChange:e=>r("email",e.target.value),className:"mt-1 w-full"}),s.jsx(o,{message:t.email})]}),s.jsxs("div",{children:[s.jsx(l,{value:"نوعیت حساب"}),s.jsxs("select",{className:"mt-1 w-full rounded-md border-gray-300 bg-white text-gray-700 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",name:"role",value:a.role,onChange:e=>r("role",e.target.value),children:[s.jsx("option",{value:"user",children:"کاربر"}),s.jsx("option",{value:"admin",children:"ادمین"})]}),s.jsx(o,{message:t.role})]}),s.jsxs("div",{children:[s.jsx(l,{value:"رمز عبور جدید"}),s.jsx(n,{type:"password",ref:m,value:a.password,onChange:e=>r("password",e.target.value),className:"mt-1 w-full"}),s.jsx(o,{message:t.password}),s.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"در صورت عدم تغییر رمز، این فیلد را خالی بگذارید."})]}),s.jsxs("div",{children:[s.jsx(l,{value:"تکرار رمز عبور جدید"}),s.jsx(n,{type:"password",ref:u,value:a.password_confirmation,onChange:e=>r("password_confirmation",e.target.value),className:"mt-1 w-full"}),s.jsx(o,{message:t.password_confirmation})]}),s.jsx("div",{className:"col-span-1 flex justify-start pt-2 md:col-span-2",children:s.jsx(w,{disabled:c,className:"rounded px-6 py-2 font-medium text-white transition",children:c?"در حال ذخیره...":"به‌روزرسانی کاربر"})})]})]})]})}export{D as default};
